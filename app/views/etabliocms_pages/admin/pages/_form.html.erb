<%= render "layouts/errors", :target => @page %>

<fieldset>
  <legend><%= t('page.admin_legend') %></legend>

  <p>
    <%= f.label :child_of, :id => "page_child_of_label" %>
    <%= f.select :child_of, [[t('hierarchy.top_level'), nil]] + @page.other_pages_for_select,
                 :selected => @page.parent ? [@page.parent.title, @page.parent_id] : nil %>
  </p>

  <p>
    <%= f.label :visible, :id => "page_visible_label" %>
    <%= f.boolean_yes_no_select :visible %>
  </p>

  <p>
    <%= f.label :url, :id => "page_url_label" %>
    <%= f.text_field :url, :class => 'text-field' %>
  </p>

</fieldset>

<fieldset>

  <%= f.fields_for :contents do |builder| %>
      <%= render "content_fields", :f => builder %>
  <% end %>

</fieldset>

<fieldset>
  <% if !@page.new_record? && respond_to?(:page_path) %>
      <p>
        <strong>NÃ¡hled: </strong>
        <%= link_to @page.title, page_url(@page, :locale => @page.locale), :"data-popup" => "true" %>
      </p>
  <% end %>

  <p>
    <%= submit_tag t('admin.save'), :class => 'submit' %>
  </p>

</fieldset>
